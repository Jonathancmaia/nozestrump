{"ast":null,"code":"import _defineProperty from\"C:/laragon/www/loja-bim/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"C:/laragon/www/loja-bim/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/laragon/www/loja-bim/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Modal,Button,Form,Container,Row,Col}from'react-bootstrap';import{HttpAuth}from'../../../config/Http';import Axios from'axios';import{CircularProgress}from'@material-ui/core';import{index}from'../../../store/actions/me.action';import{useSelector,useDispatch}from'react-redux';import{changeNotify}from'../../../store/actions/notify.action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Endereco(props){var _jsx2;var dispatch=useDispatch();var me=useSelector(function(state){return state.Me;});//Mecanismo de abertura e fechamento do modal\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),qtdEndereco=_useState4[0],setQtdEndereco=_useState4[1];var _useState5=useState({rua:'',numero:'',complemento:'',bairro:'',cep:'',cidade:'',estado:''}),_useState6=_slicedToArray(_useState5,2),endereco=_useState6[0],setEndereco=_useState6[1];//valores dos inputs\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),rua=_useState8[0],setRua=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),numero=_useState10[0],setNumero=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),complemento=_useState12[0],setComplemento=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),bairro=_useState14[0],setBairro=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),cep=_useState16[0],setCep=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),cidade=_useState18[0],setCidade=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),estado=_useState20[0],setEstado=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),referencia=_useState22[0],setReferencia=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),sn=_useState24[0],setSn=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),disableButton=_useState26[0],setDisableButton=_useState26[1];var _useState27=useState(true),_useState28=_slicedToArray(_useState27,2),cepLoading=_useState28[0],setCepLoading=_useState28[1];var _useState29=useState(undefined),_useState30=_slicedToArray(_useState29,2),cepIsValid=_useState30[0],setCepIsValid=_useState30[1];var _useState31=useState(undefined),_useState32=_slicedToArray(_useState31,2),cepIsInvalid=_useState32[0],setCepIsInvalid=_useState32[1];var _useState33=useState({rua:undefined,bairro:undefined,cidade:undefined,estado:undefined}),_useState34=_slicedToArray(_useState33,2),enderecoSetadoByCep=_useState34[0],setEnderecoSetadoByCep=_useState34[1];var ruaChecked=undefined;var bairroChecked=undefined;var cidadeChecked=undefined;var estadoChecked=undefined;var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),pac=_useState36[0],setPac=_useState36[1];var _useState37=useState(0),_useState38=_slicedToArray(_useState37,2),sedex=_useState38[0],setSedex=_useState38[1];var _useState39=useState('pac'),_useState40=_slicedToArray(_useState39,2),tipoEnvio=_useState40[0],setTipoEnvio=_useState40[1];var _useState41=useState(true),_useState42=_slicedToArray(_useState41,2),freteLoading=_useState42[0],setFreteLoading=_useState42[1];var setClickSn=function setClickSn(e){if(sn===false){setSn(true);}else{setSn(false);}};useEffect(function(){setRua(endereco.rua);setNumero(endereco.numero);setComplemento(endereco.complemento);setBairro(endereco.bairro);setCep(endereco.cep);setCidade(endereco.cidade);setEstado(endereco.estado);setReferencia(endereco.referencia);},[endereco]);var handleClose=function handleClose(){setOpen(false);};useEffect(function(){if(sn===true){setNumero('');}},[sn]);useEffect(function(){if(props.open){setOpen(true);buscaEndereco();}},[props.open]);useEffect(function(){setCepIsValid(undefined);setCepIsInvalid(undefined);if(cep!==undefined){if(cep.length===8){//consulta local do cep\nsetCepLoading(true);Axios.get('https://viacep.com.br/ws/'+cep+'/json/unicode/').then(function(response){if(response.data.cep===undefined){setCepIsInvalid(true);}else{setCepIsValid(true);setEndereco({rua:response.data.logradouro,numero:numero,complemento:complemento,bairro:response.data.bairro,cep:cep,cidade:response.data.localidade,estado:response.data.uf});if(response.data.logradouro!==undefined||response.data.logradouro!==''){ruaChecked=true;}else{ruaChecked=false;}if(response.data.bairro!==undefined||response.data.bairro!==''){bairroChecked=true;}else{bairroChecked=false;}if(response.data.localidade!==undefined||response.data.localidade!==''){cidadeChecked=true;}else{cidadeChecked=false;}if(response.data.uf!==undefined||response.data.uf!==''){estadoChecked=true;}else{estadoChecked=false;}setEnderecoSetadoByCep({rua:ruaChecked,bairro:bairroChecked,cidade:cidadeChecked,estado:estadoChecked});}setCepLoading(false);});//consulta o frete\nHttpAuth.post('frete',{cep:endereco.cep}).then(function(response){if(response===undefined||response===''||response===[]){console.log(response);}else{setSedex(response.data[0]);setPac(response.data[1]);setFreteLoading(false);}});}}},[cep]);function buscaEndereco(){HttpAuth.get('cliente/'+props.id+'/endereco').then(function(response){if(response.data.length>0){setQtdEndereco(response.data.length);setEndereco({rua:rua,numero:response.data.numero[qtdEndereco-1],complemento:response.data.complemento[qtdEndereco-1],bairro:bairro,cep:response.data.cep[qtdEndereco-1],cidade:cidade,estado:estado,referencia:response.data.referencia[qtdEndereco-1]});}else{setCepLoading(false);}});}//Payment call (pagseguro)\nfunction payment(){setDisableButton(true);var cart=localStorage.getItem('storeCart');if(typeof cart!=='undefined'||cart!==''||cart!==[]){var itemsIdQtd=[];//LOGICA DE ADICINAR OS IDS DO CARRINHO\nfor(var i=0;i<JSON.parse(cart).length;i++){itemsIdQtd=[].concat(_toConsumableArray(itemsIdQtd),[{itemId:JSON.parse(cart)[i].id,itemQuantity:JSON.parse(cart)[i].qtd,itemTam:JSON.parse(cart)[i].tamanho}]);}var _endereco={rua:rua,numero:numero,complemento:complemento,bairro:bairro,cep:cep,cidade:cidade,estado:estado,referencia:referencia,tipo:tipoEnvio};localStorage.removeItem('storeCart');var pedido={items:JSON.stringify(itemsIdQtd),endereco:JSON.stringify(_endereco)};HttpAuth.post('checkout',pedido).then(function(response){window.location=response.data;});}else{dispatch(changeNotify({open:true,class:'error',msg:'Seu carrinho está vazio.'}));}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:open,onHide:handleClose,size:\"xl\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(\"h2\",{children:\"Endere\\xE7o de entrega\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"endereco\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Cep\"}),/*#__PURE__*/_jsx(Form.Control,{size:\"sm\",type:\"text\",placeholder:\"12345123\",value:cep,onChange:function onChange(text){return setCep(text.target.value);},disabled:cepLoading&&true,isValid:cepIsValid,isInvalid:cepIsInvalid}),cepLoading?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsxs(Form.Text,{className:\"text-muted\",children:[\"Caso n\\xE3o saiba seu cep:\",/*#__PURE__*/_jsx(\"a\",{href:\"https://buscacepinter.correios.com.br/app/endereco/index.php\",children:\"Pesquise seu cep\"})]})]}),/*#__PURE__*/_jsxs(Col,{md:\"6\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Rua\"}),/*#__PURE__*/_jsx(Form.Control,{size:\"sm\",type:\"text\",placeholder:\"Rua ciclano da silva\",value:rua,onChange:function onChange(text){return setRua(text.target.value);},disabled:enderecoSetadoByCep.rua}),/*#__PURE__*/_jsx(Form.Label,{children:\"N\\xFAmero\"}),/*#__PURE__*/_jsx(Form.Control,{size:\"sm\",type:\"number\",placeholder:\"10\",value:numero,onChange:function onChange(text){return setNumero(text.target.value);},disabled:sn}),/*#__PURE__*/_jsx(Form.Check,{type:\"switch\",id:\"isSemNumero\",label:\"s/n\",value:sn,onClick:function onClick(e){return setClickSn();}})]})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Complemento\"}),/*#__PURE__*/_jsx(Form.Control,{size:\"sm\",type:\"text\",placeholder:\"Ap 1001\",value:complemento,onChange:function onChange(text){return setComplemento(text.target.value);}}),/*#__PURE__*/_jsx(Form.Label,{children:\"Bairro\"}),/*#__PURE__*/_jsx(Form.Control,{size:\"sm\",type:\"text\",placeholder:\"Bairro das flores\",value:bairro,onChange:function onChange(text){return setBairro(text.target.value);},disabled:enderecoSetadoByCep.bairro}),/*#__PURE__*/_jsx(Form.Label,{children:\"Cidade\"}),/*#__PURE__*/_jsx(Form.Control,{size:\"sm\",type:\"text\",placeholder:\"Cidade dos Anjos\",value:cidade,onChange:function onChange(text){return setCidade(text.target.value);},disabled:enderecoSetadoByCep.cidade}),/*#__PURE__*/_jsx(Form.Label,{children:\"Estado / UF\"}),/*#__PURE__*/_jsx(Form.Control,{size:\"sm\",type:\"text\",placeholder:\"BA\",value:estado,onChange:function onChange(text){return setEstado(text.target.value);},disabled:enderecoSetadoByCep.estado}),/*#__PURE__*/_jsx(Form.Label,{children:\"Referencia\"}),/*#__PURE__*/_jsx(Form.Control,{size:\"sm\",type:\"text\",placeholder:\"BA\",value:referencia,onChange:function onChange(text){return setReferencia(text.target.value);}})]})})})})})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",name:\"tipoEnvio\",onClick:function onClick(e){return setTipoEnvio('pac');},checked:tipoEnvio==='pac'?true:false})},'tipoEnvio')}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[\"PAC: \",freteLoading?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsx(_Fragment,{children:pac.price.toLocaleString('pt-br',{style:'currency',currency:'BRL'})})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Entregue em \",pac.deadline,\" dia(s).\"]})})})]}),/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",name:\"tipoEnvio\",onClick:function onClick(e){return setTipoEnvio('sedex');},checked:tipoEnvio==='sedex'?true:false})},'tipoEnvio')}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[\"Sedex: \",freteLoading?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsx(_Fragment,{children:sedex.price.toLocaleString('pt-br',{style:'currency',currency:'BRL'})})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Entregue em \",sedex.deadline,\" dia(s).\"]})})})]})]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,(_jsx2={variant:\"success\",onClick:function onClick(e){payment();},disabled:disableButton,size:\"lg\"},_defineProperty(_jsx2,\"disabled\",freteLoading),_defineProperty(_jsx2,\"children\",\"Confirmar endere\\xE7o e iniciar pagamento\"),_jsx2))})})]})})})})]})});}","map":{"version":3,"sources":["C:/laragon/www/loja-bim/src/view/cart/endereco/index.js"],"names":["React","useState","useEffect","Modal","Button","Form","Container","Row","Col","HttpAuth","Axios","CircularProgress","index","useSelector","useDispatch","changeNotify","Endereco","props","dispatch","me","state","Me","open","setOpen","qtdEndereco","setQtdEndereco","rua","numero","complemento","bairro","cep","cidade","estado","endereco","setEndereco","setRua","setNumero","setComplemento","setBairro","setCep","setCidade","setEstado","referencia","setReferencia","sn","setSn","disableButton","setDisableButton","cepLoading","setCepLoading","undefined","cepIsValid","setCepIsValid","cepIsInvalid","setCepIsInvalid","enderecoSetadoByCep","setEnderecoSetadoByCep","ruaChecked","bairroChecked","cidadeChecked","estadoChecked","pac","setPac","sedex","setSedex","tipoEnvio","setTipoEnvio","freteLoading","setFreteLoading","setClickSn","e","handleClose","buscaEndereco","length","get","then","response","data","logradouro","localidade","uf","post","console","log","id","payment","cart","localStorage","getItem","itemsIdQtd","i","JSON","parse","itemId","itemQuantity","qtd","itemTam","tamanho","tipo","removeItem","pedido","items","stringify","window","location","class","msg","text","target","value","price","toLocaleString","style","currency","deadline"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\r\nimport { Modal, Button, Form, Container, Row, Col } from 'react-bootstrap';\r\nimport { HttpAuth } from '../../../config/Http';\r\nimport Axios from 'axios';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { index } from '../../../store/actions/me.action';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeNotify } from '../../../store/actions/notify.action';\r\n\r\nexport default function Endereco(props) {\r\n\r\n  const dispatch = useDispatch();\r\n  const me = useSelector (state => state.Me);\r\n\r\n  //Mecanismo de abertura e fechamento do modal\r\n  const [open, setOpen] = useState(false);\r\n  const [qtdEndereco, setQtdEndereco] = useState(1);\r\n  const [endereco, setEndereco] = useState({\r\n    rua: '',\r\n    numero: '',\r\n    complemento: '',\r\n    bairro: '',\r\n    cep: '',\r\n    cidade: '',\r\n    estado: ''\r\n  });\r\n\r\n  //valores dos inputs\r\n  const [rua, setRua] = useState('');\r\n  const [numero, setNumero] = useState('');\r\n  const [complemento, setComplemento] = useState('');\r\n  const [bairro, setBairro] = useState('');\r\n  const [cep, setCep] = useState('');\r\n  const [cidade, setCidade] = useState('');\r\n  const [estado, setEstado] = useState('');\r\n  const [referencia, setReferencia] = useState('');\r\n  const [sn, setSn] = useState(false);\r\n  const [disableButton, setDisableButton] = useState(false);\r\n\r\n  const [cepLoading, setCepLoading] = useState(true);\r\n  const [cepIsValid, setCepIsValid] = useState(undefined);\r\n  const [cepIsInvalid, setCepIsInvalid] = useState(undefined);\r\n  const [enderecoSetadoByCep, setEnderecoSetadoByCep] = useState({\r\n    rua: undefined,\r\n    bairro: undefined,\r\n    cidade: undefined,\r\n    estado: undefined\r\n  });\r\n\r\n  let ruaChecked = undefined;\r\n  let bairroChecked = undefined;\r\n  let cidadeChecked = undefined;\r\n  let estadoChecked = undefined;\r\n\r\n  const [pac, setPac] = useState(0);\r\n  const [sedex, setSedex] = useState(0);\r\n  const [tipoEnvio, setTipoEnvio] = useState('pac');\r\n  const [freteLoading, setFreteLoading] = useState(true);\r\n\r\n  const setClickSn = (e)=>{\r\n    if (sn === false){\r\n      setSn(true);\r\n    } else {\r\n      setSn(false);\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    setRua(endereco.rua);\r\n    setNumero(endereco.numero);\r\n    setComplemento(endereco.complemento);\r\n    setBairro(endereco.bairro);\r\n    setCep(endereco.cep);\r\n    setCidade(endereco.cidade);\r\n    setEstado(endereco.estado);\r\n    setReferencia(endereco.referencia);\r\n  },[endereco]);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if (sn === true) {\r\n      setNumero('');\r\n    }\r\n  },[sn])\r\n\r\n  useEffect(()=>{\r\n    if (props.open){\r\n      setOpen(true);\r\n      buscaEndereco();\r\n    }\r\n  },[props.open]);\r\n\r\n  useEffect(()=>{\r\n\r\n    setCepIsValid(undefined);\r\n    setCepIsInvalid(undefined);\r\n\r\n    if (cep !== undefined){\r\n      if (cep.length === 8){\r\n\r\n        //consulta local do cep\r\n\r\n        setCepLoading(true);\r\n        \r\n        Axios.get('https://viacep.com.br/ws/'+cep+'/json/unicode/').then(response => {\r\n          if(response.data.cep === undefined){\r\n            setCepIsInvalid(true);\r\n          } else {\r\n            setCepIsValid(true);\r\n            setEndereco({\r\n              rua: response.data.logradouro,\r\n              numero: numero,\r\n              complemento: complemento,\r\n              bairro: response.data.bairro,\r\n              cep: cep,\r\n              cidade: response.data.localidade,\r\n              estado: response.data.uf\r\n            })\r\n            \r\n            if (response.data.logradouro !== undefined || response.data.logradouro !== ''){\r\n              ruaChecked = true;\r\n            } else {\r\n              ruaChecked = false;\r\n            }\r\n\r\n            if (response.data.bairro !== undefined || response.data.bairro !== ''){\r\n              bairroChecked = true;\r\n            } else {\r\n              bairroChecked = false;\r\n            }\r\n\r\n            if (response.data.localidade !== undefined || response.data.localidade !== ''){\r\n              cidadeChecked = true;\r\n            } else {\r\n              cidadeChecked = false;\r\n            }\r\n\r\n            if (response.data.uf !== undefined || response.data.uf !== ''){\r\n              estadoChecked = true;\r\n            } else {\r\n              estadoChecked = false;\r\n            }\r\n\r\n            setEnderecoSetadoByCep({\r\n              rua: ruaChecked,\r\n              bairro: bairroChecked,\r\n              cidade: cidadeChecked,\r\n              estado: estadoChecked\r\n            });\r\n            \r\n          }\r\n          setCepLoading(false);\r\n        })\r\n\r\n        //consulta o frete\r\n\r\n        HttpAuth.post('frete', {\r\n          cep: endereco.cep\r\n        }).then(\r\n          (response) => {\r\n            if (response === undefined || response === '' || response === []){\r\n              console.log(response)\r\n            } else {\r\n              setSedex(response.data[0]);\r\n              setPac(response.data[1]);\r\n              setFreteLoading(false);\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    \r\n  },[cep])\r\n\r\n  function buscaEndereco (){\r\n    HttpAuth.get('cliente/'+props.id+'/endereco').then(\r\n      (response) => {\r\n        if (response.data.length > 0) {\r\n\r\n          setQtdEndereco(response.data.length);\r\n          \r\n          setEndereco({\r\n            rua: rua,\r\n            numero: response.data.numero[qtdEndereco-1],\r\n            complemento: response.data.complemento[qtdEndereco-1],\r\n            bairro: bairro,\r\n            cep: response.data.cep[qtdEndereco-1],\r\n            cidade: cidade,\r\n            estado: estado,\r\n            referencia: response.data.referencia[qtdEndereco-1]\r\n          });\r\n        } else {\r\n          setCepLoading(false);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  //Payment call (pagseguro)\r\n  function payment(){\r\n\r\n    setDisableButton(true);\r\n\r\n    let cart = localStorage.getItem('storeCart');\r\n\r\n    if ((typeof cart !== 'undefined' || cart !== '' || cart !== [])){\r\n        \r\n      let itemsIdQtd = [];\r\n\r\n      //LOGICA DE ADICINAR OS IDS DO CARRINHO\r\n      for (let i = 0; i < JSON.parse(cart).length; i++){\r\n    \r\n        itemsIdQtd = [...itemsIdQtd, {\r\n          itemId: JSON.parse(cart)[i].id,\r\n          itemQuantity: JSON.parse(cart)[i].qtd,\r\n          itemTam: JSON.parse(cart)[i].tamanho\r\n        }];\r\n      }\r\n\r\n      let endereco = {\r\n        rua: rua,\r\n        numero: numero,\r\n        complemento: complemento,\r\n        bairro: bairro,\r\n        cep: cep,\r\n        cidade: cidade,\r\n        estado: estado,\r\n        referencia: referencia,\r\n        tipo: tipoEnvio\r\n      };\r\n        \r\n      localStorage.removeItem('storeCart');\r\n\r\n      const pedido = {\r\n        items: JSON.stringify(itemsIdQtd),\r\n        endereco: JSON.stringify(endereco)\r\n      };\r\n      HttpAuth.post('checkout', pedido).then(\r\n        (response) => {\r\n          window.location = response.data;\r\n        }\r\n      );\r\n\r\n    } else {\r\n\r\n      dispatch( changeNotify({\r\n        open: true,\r\n        class: 'error',\r\n        msg: 'Seu carrinho está vazio.'\r\n      }));\r\n    }\r\n  }\r\n\r\n  return (<>\r\n    <Modal show={open} onHide={handleClose} size='xl'>\r\n        <Modal.Header closeButton>\r\n          <h2>\r\n            Endereço de entrega\r\n          </h2>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Container>\r\n            <Row>\r\n              <Col>\r\n                <Form>\r\n                  <Form.Group controlId=\"endereco\">\r\n                    <Row>\r\n                      <Col md=\"6\">\r\n                        <Form.Label>Cep</Form.Label>\r\n                        <Form.Control \r\n                        size='sm'\r\n                        type=\"text\"\r\n                        placeholder=\"12345123\" \r\n                        value={cep}\r\n                        onChange={text => setCep(text.target.value)}\r\n                        disabled={cepLoading && true}\r\n                        isValid={cepIsValid}\r\n                        isInvalid={cepIsInvalid}\r\n                        />\r\n                        {\r\n                          cepLoading ? \r\n                            <CircularProgress/>\r\n                              :\r\n                            <Form.Text className=\"text-muted\">\r\n                              Caso não saiba seu cep: \r\n                              <a\r\n                                href='https://buscacepinter.correios.com.br/app/endereco/index.php'\r\n                              >\r\n                                Pesquise seu cep\r\n                              </a>\r\n                            </Form.Text>\r\n                        }\r\n                        \r\n                      </Col>\r\n                      <Col md=\"6\">\r\n                        <Form.Label>Rua</Form.Label>\r\n                        <Form.Control\r\n                          size='sm'\r\n                          type=\"text\"\r\n                          placeholder=\"Rua ciclano da silva\"\r\n                          value={rua}\r\n                          onChange={text => setRua(text.target.value)}\r\n                          disabled={enderecoSetadoByCep.rua}\r\n                        />\r\n                        <Form.Label>Número</Form.Label>\r\n                        <Form.Control\r\n                          size='sm'\r\n                          type=\"number\"\r\n                          placeholder=\"10\"\r\n                          value={numero}\r\n                          onChange={text => setNumero(text.target.value)}\r\n                          disabled={sn}\r\n                          \r\n                        />\r\n                        <Form.Check \r\n                          type=\"switch\"\r\n                          id=\"isSemNumero\"\r\n                          label=\"s/n\"\r\n                          value={sn}\r\n                          onClick={(e) => setClickSn()}\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                    <Form.Label>Complemento</Form.Label>\r\n                    <Form.Control\r\n                      size='sm'\r\n                      type=\"text\"\r\n                      placeholder=\"Ap 1001\"\r\n                      value={complemento}\r\n                      onChange={text => setComplemento(text.target.value)}\r\n                    />\r\n                    <Form.Label>Bairro</Form.Label>\r\n                    <Form.Control\r\n                      size='sm'\r\n                      type=\"text\"\r\n                      placeholder=\"Bairro das flores\"\r\n                      value={bairro}\r\n                      onChange={text => setBairro(text.target.value)}\r\n                      disabled={enderecoSetadoByCep.bairro}\r\n                    />\r\n                    <Form.Label>Cidade</Form.Label>\r\n                    <Form.Control\r\n                      size='sm'\r\n                      type=\"text\"\r\n                      placeholder=\"Cidade dos Anjos\"\r\n                      value={cidade}\r\n                      onChange={text => setCidade(text.target.value)}\r\n                      disabled={enderecoSetadoByCep.cidade}\r\n                    />\r\n                    <Form.Label>Estado / UF</Form.Label>\r\n                    <Form.Control\r\n                      size='sm'\r\n                      type=\"text\"\r\n                      placeholder=\"BA\"\r\n                      value={estado}\r\n                      onChange={text => setEstado(text.target.value)}\r\n                      disabled={enderecoSetadoByCep.estado}\r\n                    />\r\n                    <Form.Label>Referencia</Form.Label>\r\n                    <Form.Control\r\n                      size='sm'\r\n                      type=\"text\"\r\n                      placeholder=\"BA\"\r\n                      value={referencia}\r\n                      onChange={text => setReferencia(text.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Container>\r\n            <Row>\r\n              <Col>\r\n                <Form>\r\n                  <Row>\r\n                    <Col className='d-flex justify-content-center align-items-center'>\r\n                      <div key='tipoEnvio' className=\"mb-3\">\r\n                        <Form.Check\r\n                          type='radio'\r\n                          name='tipoEnvio'\r\n                          onClick={(e)=>setTipoEnvio('pac')}\r\n                          checked = {tipoEnvio === 'pac' ? true : false}\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                    <Col>\r\n                      <Row>\r\n                        <Col>\r\n                          PAC: {freteLoading ? \r\n                            <CircularProgress />\r\n                              :\r\n                            <>\r\n                              {pac.price.toLocaleString('pt-br',{style: 'currency',currency: 'BRL'})}\r\n                            </>\r\n                          }\r\n                        </Col>\r\n                      </Row>\r\n                      <Row>\r\n                        <Col>\r\n                          <small>Entregue em {pac.deadline} dia(s).</small>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                    <Col className='d-flex justify-content-center align-items-center'>\r\n                      <div key='tipoEnvio' className=\"mb-3\">\r\n                        <Form.Check\r\n                          type='radio'\r\n                          name='tipoEnvio'\r\n                          onClick={(e)=>setTipoEnvio('sedex')}\r\n                          checked = {tipoEnvio === 'sedex' ? true : false}\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                    <Col>\r\n                      <Row>\r\n                        <Col>\r\n                          Sedex: {freteLoading ? \r\n                            <CircularProgress />\r\n                              :\r\n                            <>\r\n                              {sedex.price.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'})}\r\n                            </>\r\n                          }\r\n                        </Col>\r\n                      </Row>\r\n                      <Row>\r\n                        <Col>\r\n                          <small>Entregue em {sedex.deadline} dia(s).</small>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n                <hr />\r\n                <Row>\r\n                  <Col className='d-flex justify-content-center'>\r\n                    <Button\r\n                      variant='success'\r\n                      onClick={(e)=>{payment()}}\r\n                      disabled={disableButton}\r\n                      size='lg'\r\n                      disabled={freteLoading}\r\n                    >\r\n                    Confirmar endereço e iniciar pagamento\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Modal.Footer>\r\n      </Modal>\r\n  </>);\r\n}"]},"metadata":{},"sourceType":"module"}